
apply plugin: 'base'

task test(type: Exec) {
    commandLine "python", "-m", "unittest", "discover", "-v", "-s", "./src", "-p*_test.py"
}
check.dependsOn test

task dist(type: Exec) {
    commandLine "python", "setup.py", "sdist", "--dist-dir", "${buildDir}/dist"
}
assemble.dependsOn dist
